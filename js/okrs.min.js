$.ajaxSetup({
    headers: {
        'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
    }
});

function Profile(id, val) {
    var tipo = 'get';    
    $.ajax({
        url: "profileEmpleado",
        type: "get",
        data: {
            _method: tipo, id: id,
            val: val
        },
        success: function (data) {                  
            $("#profileModal").modal('show');
            $("#contentProfile").html(data);            
        }
    });
}

function Guardar_Avance_Resultado(avance, id, id_okr, id_empresa, id_user, page) {

    var tipo = 'post';

    $.ajax({
        url: "guardarAvanceResultado",
        type: "post",
        data: {
            _method: tipo,
            id: id,
            id_okr: id_okr, 
            id_empresa: id_empresa,
            id_user:id_user,
            avance: avance
        },
        success: function (data) {
            if(data == 'true'){
                toastr.success("Avance guardado con exito");
                window.location = page+"&resultado_okr_="+id;
            }else{
                toastr.error("Hubo un error al guardar el avance del resultado.");                
            }
            // window.location = page+"&resultado_okr_="+id;         
        }
    });

}

function Guardar_Avance_Iniciativa(avance, id, id_okr, id_resultado, id_empresa, id_user, page) {
    
    var tipo = 'post';

    $.ajax({
        url: "guardarAvanceIniciativa",
        type: "post",
        data: {
            _method: tipo,
            id: id,
            id_resultado: id_resultado,
            id_okr: id_okr, 
            id_empresa: id_empresa,
            id_user:id_user,
            avance: avance
        },
        success: function (data) {
            if(data == 'true'){
                toastr.success("Avance guardado con exito");
                window.location = page+"&resultado_okr_="+id_resultado+"&iniciativa="+id;
            }else{
                toastr.error("Hubo un error al guardar el avance de la iniciativa.");                
            }
            // window.location = page+"&resultado_okr_="+id;         
        }
    });    
   
}

$( '#areas_fill' ).select2( {
    theme: "bootstrap-5",
    width: $( this ).data( 'width' ) ? $( this ).data( 'width' ) : $( this ).hasClass( 'w-100' ) ? '100%' : 'style',
    placeholder: $( this ).data( 'placeholder' ),
} );

$( '#vicepresidencia_fill' ).select2( {
    theme: "bootstrap-5",
    width: $( this ).data( 'width' ) ? $( this ).data( 'width' ) : $( this ).hasClass( 'w-100' ) ? '100%' : 'style',
    placeholder: $( this ).data( 'placeholder' ),
} );

$( '#objestrategico_fill' ).select2( {
    theme: "bootstrap-5",
    width: $( this ).data( 'width' ) ? $( this ).data( 'width' ) : $( this ).hasClass( 'w-100' ) ? '100%' : 'style',
    placeholder: $( this ).data( 'placeholder' ),
} );
$( '#responsable_fill' ).select2( {
    theme: "bootstrap-5",
    width: $( this ).data( 'width' ) ? $( this ).data( 'width' ) : $( this ).hasClass( 'w-100' ) ? '100%' : 'style',
    placeholder: $( this ).data( 'placeholder' ),
} );
$( '#okr_fill' ).select2( {
    theme: "bootstrap-5",
    width: $( this ).data( 'width' ) ? $( this ).data( 'width' ) : $( this ).hasClass( 'w-100' ) ? '100%' : 'style',
    placeholder: $( this ).data( 'placeholder' ),
} );